import React from 'react';
import EntryForm from '../components/EntryForm';
import { GoogleSpreadsheet } from 'google-spreadsheet';

const {REACT_APP_SHEET_ID} = process.env;
const {REACT_APP_GOOGLE_CLIENT_EMAIL} = process.env;
const {REACT_APP_GOOGLE_PRIVATE_KEY} = process.env;

console.log(REACT_APP_GOOGLE_PRIVATE_KEY)
const doc = new GoogleSpreadsheet(REACT_APP_SHEET_ID);

(async function() {
    await doc.useServiceAccountAuth({
        // env var values are copied from service account credentials generated by google
        // see "Authentication" section in docs for more info
        client_email: REACT_APP_GOOGLE_CLIENT_EMAIL,
        private_key: REACT_APP_GOOGLE_PRIVATE_KEY.replace(/\\n/g, '\n'),
      });
}())

// (async function() {
//     await doc.loadInfo();
//     console.log(doc.title)
// }())


export default function Scoreboard() {
    return (
        <div>
            Scoreboard
            <EntryForm />
        </div>
    )
}
